<%- include('../partials/header') %>

<section id="hero">
  <div class="container">
    
    <div class="slide">
      <div class="item" style="background-image: url(/images/h2.jpg)">
        <div class="content">
          <div class="name">Batta fish</div>
          <div class="des">lorem ipsum dalar, sit ...............</div>
          <button>See More</button>
        </div>
      </div>
      <div class="item" style="background-image: url(/images/h1.jpg)">
        <div class="content">
          <div class="name">Oscar</div>
          <div class="des">lorem ipsum dalar, sit ...............</div>
          <button>See More</button>
        </div>
      </div>
      <div class="item" style="background-image: url(/images/h4.jpg)">
        <div class="content">
          <div class="name">Siamese fighting fish</div>
          <div class="des">lorem ipsum dalar, sit ...............</div>
          <button>See More</button>
        </div>
      </div>
      <div class="item" style="background-image: url(/images/h3.jpg)">
        <div class="content">
          <div class="name">Fantail</div>
          <div class="des">lorem ipsum dalar, sit ...............</div>
          <button>See More</button>
        </div>
      </div>

      <div class="item" style="background-image: url(/images/h5.jpg)">
        <div class="content">
          <div class="name">Coral reef fish</div>
          <div class="des">lorem ipsum dalar, sit ...............</div>
          <button>See More</button>
        </div>
      </div>
    </div>

  </div>
</section>

<div class="category">
  <h3 class="category__title">Categories</h3>
  <div class="category__list">
    <% categories.forEach((category, index) => { %>
    <div class="card__container">
      <article class="card__article">
        <img
          src="<%= category.categoryImage[0] %>"
          alt="image"
          class="card__img"
        />
        <div class="card__data">
          <h2 class="card__title"><%= category.categoryName %></h2>
          <a href="/products/<%= category._id %>" class="card__button"
            >Shop now</a
          >
        </div>
      </article>
    </div>
    <% }) %>
  </div>
</div>

<section id="prod" class="section-p1">
  <h2>Limited Offers</h2>
  <a href="/productlist"><i class="fa-solid fa-arrow-right prod-arrow"></i></a>
  <div class="box-area">
    <% limitedOffers.forEach((product) => { %>
    <div
      class="box"
      onclick="window.location.href='/productdetails/<%= product._id %>'"
    >
      <img
        src="<%= product.productImage[0] %>"
        alt="<%= product.productName %>"
      />
      <div class="overlay">
        <h3><%= product.productName %></h3>
        <br />
        <h4>₹<%= product.finalDiscountedPrice.toFixed(2) %></h4>
        <h6>
          <%= Math.max(product.discount || 0, product.category.discount || 0)
          %>% OFF
        </h6>
        <form action="/wishlist/<%= product._id %>" method="POST">
          <button type="submit"><i class="fa-solid fa-heart fav"></i></button>
        </form>
      </div>
    </div>
    <% }) %>
  </div>
</section>

<section id="carousel">
  <div
    id="carouselExampleIndicators"
    class="carousel slide"
    data-ride="carousel"
  >
    <ol class="carousel-indicators">
      <li
        data-target="#carouselExampleIndicators"
        data-slide-to="0"
        class="active"
      ></li>
      <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
      <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
      <li data-target="#carouselExampleIndicators" data-slide-to="3"></li>
    </ol>
    <div class="carousel-inner">
      <div class="carousel-item active">
        <img
          src="/images/carousil 1.jpg"
          class="d-block w-100"
          alt="First Slide"
        />
      </div>
      <div class="carousel-item">
        <img
          src="/images/carousil 2.png"
          class="d-block w-100"
          alt="Second Slide"
        />
      </div>
      <div class="carousel-item">
        <img
          src="/images/carousil 3.png"
          class="d-block w-100"
          alt="Third Slide"
        />
      </div>
      <div class="carousel-item">
        <img
          src="/images/carousil 4.jpg"
          class="d-block w-100"
          alt="fourth Slide"
        />
      </div>
    </div>
    <a
      class="carousel-control-prev"
      href="#carouselExampleIndicators"
      role="button"
      data-slide="prev"
    >
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="sr-only">Previous</span>
    </a>
    <a
      class="carousel-control-next"
      href="#carouselExampleIndicators"
      role="button"
      data-slide="next"
    >
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="sr-only">Next</span>
    </a>
  </div>
</section>

<section id="prod" class="section-p1">
  <h2>New Arrivals</h2>
  <p>Summer Collection New Products</p>
  <a href="/productlist"><i class="fa-solid fa-arrow-right prod-arrow"></i></a>
  <div class="box-area">
    <% newArrivals.forEach((product) => { %>
    <div
      class="box"
      onclick="window.location.href='/productdetails/<%= product._id %>'"
    >
      <img
        src="<%= product.productImage[0] %>"
        alt="<%= product.productName %>"
      />
      <div class="overlay">
        <h3><%= product.productName %></h3>
        <br />
        <h4>₹<%= product.finalDiscountedPrice.toFixed(2) %></h4>
        <h6>
          <%= Math.max(product.discount || 0, product.category.discount || 0)
          %>% OFF
        </h6>
        <form action="/wishlist/<%= product._id %>" method="POST">
          <button type="submit"><i class="fa-solid fa-heart fav"></i></button>
        </form>
      </div>
    </div>
    <% }) %>
  </div>
</section>

<script>
  
  /* hero section */
  // const slide = document.querySelector(".slide");
  // const SLIDE_INTERVAL = 3000;

  // function nextSlide() {
  //   const items = document.querySelectorAll(".item");
  //   slide.appendChild(items[0]);
  // }
  
  // setInterval(nextSlide, SLIDE_INTERVAL);

  /* category section */
  document.addEventListener("DOMContentLoaded", (event) => {
    const accBtn = document.querySelector(".acc-btn");
    const accList = document.querySelector(".acc-list");

    accBtn.addEventListener("click", () => {
      accList.style.display =
        accList.style.display === "block" ? "none" : "block";
    });
    window.onclick = function (event) {
      if (!event.target.matches(".acc-btn")) {
        if (accList.style.display === "block") {
          accList.style.display = "none";
        }
      }
    };
  });

</script>

<%- include('../partials/footer') %>
